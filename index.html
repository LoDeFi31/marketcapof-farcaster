<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#6C4E31"><title>Toulouse Cupping App</title><style>:root{--primary:#8D6E4D;--on-primary:#FFF;--surface:#FBF8F5;--on-surface:#1D1B18}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Roboto,sans-serif;background:var(--surface);color:var(--on-surface);padding-bottom:60px}header{background:var(--primary);color:var(--on-primary);padding:16px;position:sticky;top:0;z-index:100;box-shadow:0 2px 8px rgba(0,0,0,.15)}h1{font-size:20px;font-weight:500;text-align:center;margin-bottom:12px}.carousel{display:flex;gap:12px;overflow-x:auto;padding:12px 16px;scrollbar-width:thin}.carousel::-webkit-scrollbar{height:6px}.carousel::-webkit-scrollbar-thumb{background:var(--primary);border-radius:3px}.coffee-card{min-width:160px;padding:12px;border-radius:12px;background:#E7E1D9;border:2px solid transparent;cursor:pointer;transition:.2s;text-align:center}.coffee-card:hover{transform:translateY(-2px)}.coffee-card.active{border-color:var(--primary);background:#F4E8D9}.coffee-card.validated{background:#90EE90;border-color:#228B22}.coffee-name{font-weight:500;font-size:14px;margin-bottom:4px}.coffee-score{font-size:20px;font-weight:700;color:var(--primary)}.add-btn{min-width:160px;padding:12px;border-radius:12px;background:var(--primary);color:var(--on-primary);border:none;cursor:pointer;font-weight:500}main{max-width:600px;margin:16px auto;padding:0 16px}section{background:#FFF;border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 1px 3px rgba(0,0,0,.1)}h2{font-size:16px;font-weight:500;color:var(--primary);margin-bottom:12px}.score-row{display:flex;align-items:center;gap:12px;margin-bottom:16px}label{flex:1;font-size:14px}input[type=number]{width:60px;padding:8px;border:1px solid #ccc;border-radius:8px;text-align:center}input[type=range]{flex:1;height:4px;border-radius:2px;outline:none;-webkit-appearance:none;background:#ddd}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:var(--primary);cursor:pointer}input[type=range]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(--primary);cursor:pointer;border:none}button{background:var(--primary);color:var(--on-primary);border:none;padding:12px 24px;border-radius:20px;cursor:pointer;width:100%;font-weight:500;margin-top:8px;transition:.2s}button:hover{opacity:.9}#finalScore{font-size:32px;font-weight:700;color:var(--primary);text-align:center;margin:12px 0}.validate-btn{background:#4CAF50;margin-top:16px}.recap-btn{background:#2196F3;margin-top:8px}#recapSection{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);z-index:200;overflow-y:auto}#recapSection.show{display:block}.recap-content{background:#FFF;max-width:800px;margin:40px auto;padding:24px;border-radius:12px}.recap-table{width:100%;border-collapse:collapse;margin-top:16px}.recap-table th,.recap-table td{padding:12px;text-align:left;border-bottom:1px solid #ddd}.recap-table th{background:var(--primary);color:var(--on-primary)}.recap-table .score-col{font-weight:700;color:var(--primary);font-size:18px}.close-recap{background:#666;margin-top:16px}</style></head><body><header><h1>‚òï Toulouse Cupping App</h1><div class="carousel" id="carousel"><div class="coffee-card active" onclick="selectCoffee(0)" data-id="0"><div class="coffee-name">Caf√© 1</div><div class="coffee-score">8.0</div></div><button class="add-btn" onclick="addCoffee()">+ Ajouter</button></div></header><main id="form"><section><h2>Torr√©faction</h2><div class="score-row"><label>Note:</label><input type="number" id="roast" min="6" max="10" step="0.5" value="8" oninput="updateScore()"><input type="range" id="roastRange" min="6" max="10" step="0.5" value="8" oninput="syncRange('roast',this.value)"></div></section><section><h2>Fragrance / Ar√¥me (6-10)</h2><div class="score-row"><label>Note:</label><input type="number" id="fragrance" min="6" max="10" step="0.5" value="8" oninput="updateScore()"><input type="range" id="fragranceRange" min="6" max="10" step="0.5" value="8" oninput="syncRange('fragrance',this.value)"></div></section><section><h2>Saveur (6-10)</h2><div class="score-row"><label>Note:</label><input type="number" id="flavor" min="6" max="10" step="0.5" value="8" oninput="updateScore()"><input type="range" id="flavorRange" min="6" max="10" step="0.5" value="8" oninput="syncRange('flavor',this.value)"></div></section><section><h2>Arri√®re-go√ªt (6-10)</h2><div class="score-row"><label>Note:</label><input type="number" id="aftertaste" min="6" max="10" step="0.5" value="8" oninput="updateScore()"><input type="range" id="aftertasteRange" min="6" max="10" step="0.5" value="8" oninput="syncRange('aftertaste',this.value)"></div></section><section><h2>Acidit√© (6-10)</h2><div class="score-row"><label>Note:</label><input type="number" id="acidity" min="6" max="10" step="0.5" value="8" oninput="updateScore()"><input type="range" id="acidityRange" min="6" max="10" step="0.5" value="8" oninput="syncRange('acidity',this.value)"></div></section><section><h2>Corps (6-10)</h2><div class="score-row"><label>Note:</label><input type="number" id="body" min="6" max="10" step="0.5" value="8" oninput="updateScore()"><input type="range" id="bodyRange" min="6" max="10" step="0.5" value="8" oninput="syncRange('body',this.value)"></div></section><section><h2>√âquilibre (6-10)</h2><div class="score-row"><label>Note:</label><input type="number" id="balance" min="6" max="10" step="0.5" value="8" oninput="updateScore()"><input type="range" id="balanceRange" min="6" max="10" step="0.5" value="8" oninput="syncRange('balance',this.value)"></div></section><section><h2>Note g√©n√©rale (6-10)</h2><div class="score-row"><label>Note:</label><input type="number" id="overall" min="6" max="10" step="0.5" value="8" oninput="updateScore()"><input type="range" id="overallRange" min="6" max="10" step="0.5" value="8" oninput="syncRange('overall',this.value)"></div></section><section><h2>Score Final</h2><div id="finalScore">8.0</div><button onclick="updateScore()">Recalculer</button><button class="validate-btn" onclick="validateCoffee()">‚úì Valider ce caf√©</button><button class="recap-btn" onclick="showRecap()">üìä Voir le r√©capitulatif</button></section></main><div id="recapSection"><div class="recap-content"><h2>üìä R√©capitulatif de la session</h2><table class="recap-table" id="recapTable"><thead><tr><th>Caf√©</th><th>Score</th><th>Statut</th></tr></thead><tbody id="recapBody"></tbody></table><button class="close-recap" onclick="closeRecap()">Fermer</button></div></div><script>let coffees=[{id:0,name:"Caf√© 1",scores:{roast:8,fragrance:8,flavor:8,aftertaste:8,acidity:8,body:8,balance:8,overall:8},validated:false}];let currentCoffeeId=0;function syncRange(id,val){document.getElementById(id).value=val;document.getElementById(id+'Range').value=val;updateScore()}function updateScore(){const fields=['roast','fragrance','flavor','aftertaste','acidity','body','balance','overall'];let sum=0;fields.forEach(f=>{sum+=parseFloat(document.getElementById(f).value)});const avg=(sum/fields.length).toFixed(1);document.getElementById('finalScore').textContent=avg;saveCoffee()}function saveCoffee(){const fields=['roast','fragrance','flavor','aftertaste','acidity','body','balance','overall'];const scores={};fields.forEach(f=>{scores[f]=parseFloat(document.getElementById(f).value)});const coffee=coffees.find(c=>c.id===currentCoffeeId);if(coffee){coffee.scores=scores}updateCarousel()}function loadCoffee(id){const coffee=coffees.find(c=>c.id===id);if(!coffee)return;const fields=['roast','fragrance','flavor','aftertaste','acidity','body','balance','overall'];fields.forEach(f=>{const val=coffee.scores[f];document.getElementById(f).value=val;document.getElementById(f+'Range').value=val});updateScore();currentCoffeeId=id}function selectCoffee(id){saveCoffee();loadCoffee(id);document.querySelectorAll('.coffee-card').forEach(c=>c.classList.remove('active'));document.querySelector(`[data-id="${id}"]`).classList.add('active')}function addCoffee(){const id=coffees.length;coffees.push({id,name:`Caf√© ${id+1}`,scores:{roast:8,fragrance:8,flavor:8,aftertaste:8,acidity:8,body:8,balance:8,overall:8},validated:false});updateCarousel();selectCoffee(id)}function validateCoffee(){const coffee=coffees.find(c=>c.id===currentCoffeeId);if(coffee){coffee.validated=true;updateCarousel();alert('Caf√© valid√© !')}}function updateCarousel(){const carousel=document.getElementById('carousel');carousel.innerHTML='';coffees.forEach(c=>{const fields=['roast','fragrance','flavor','aftertaste','acidity','body','balance','overall'];let sum=0;fields.forEach(f=>sum+=c.scores[f]);const avg=(sum/fields.length).toFixed(1);const card=document.createElement('div');card.className=`coffee-card${c.id===currentCoffeeId?' active':''}${c.validated?' validated':''}`;card.dataset.id=c.id;card.onclick=()=>selectCoffee(c.id);card.innerHTML=`<div class="coffee-name">${c.name}</div><div class="coffee-score">${avg}</div>`;carousel.appendChild(card)});const addBtn=document.createElement('button');addBtn.className='add-btn';addBtn.textContent='+ Ajouter';addBtn.onclick=addCoffee;carousel.appendChild(addBtn)}function showRecap(){const tbody=document.getElementById('recapBody');tbody.innerHTML='';coffees.forEach(c=>{const fields=['roast','fragrance','flavor','aftertaste','acidity','body','balance','overall'];let sum=0;fields.forEach(f=>sum+=c.scores[f]);const avg=(sum/fields.length).toFixed(1);const row=document.createElement('tr');row.innerHTML=`<td>${c.name}</td><td class="score-col">${avg}</td><td>${c.validated?'‚úÖ Valid√©':'‚è≥ En cours'}</td>`;tbody.appendChild(row)});document.getElementById('recapSection').classList.add('show')}function closeRecap(){document.getElementById('recapSection').classList.remove('show')}updateScore();</script></body></html>
